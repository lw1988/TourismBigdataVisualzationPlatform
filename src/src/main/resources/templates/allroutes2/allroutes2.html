<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<!--
这是起始页面，你可以使用此页面开始你的项目。
此页面移除了链接，并提供了所需要的标记。
-->
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>旅游大数据可视化 | gxu</title>
    <!-- 告诉浏览器该页面是自适应布局 -->
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <link rel="stylesheet" th:href="@{/bower_components/bootstrap/dist/css/bootstrap.min.css}">
    <!-- Font Awesome -->
    <link rel="stylesheet" th:href="@{/bower_components/font-awesome/css/font-awesome.min.css}">
    <!-- Ionicons -->
    <link rel="stylesheet" th:href="@{/bower_components/Ionicons/css/ionicons.min.css}">
    <!-- Theme style -->
    <link rel="stylesheet" th:href="@{/dist/css/AdminLTE.min.css}">
    <!-- AdminLTE 皮肤。默认使用蓝色皮肤。
          您可以选择其他皮肤。皮肤样式写在 body 标签中，
          以便使之生效。 -->
    <link rel="stylesheet" th:href="@{/dist/css/skins/skin-blue.min.css}">

    <!--<&lt;!&ndash;font-family&ndash;&gt;-->
    <!--<link href="https://fonts.googleapis.com/css?family=Rufina:400,700" rel="stylesheet" />-->

    <!--<link href="https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,500,600,700,800,900" rel="stylesheet" />-->

    <!--style.css-->
    <link rel="stylesheet" href="commitSystem/assets/css/style.css" />
    <link rel="stylesheet" href="selfCSS/ie10-viewport-bug-workaround.css">
    <link rel="stylesheet" href="selfCSS/allroutes2.css">




    <!-- HTML5 Shim and Respond.js} IE8 support of HTML5 elements and media queries -->
    <!-- 警告：Respond.js} 不支持 file:// 方式查看（即本地方式查看）-->
    <!--[if lt IE 9]>
    <script th:src="@{https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js}"></script>
    <script th:src="@{https://oss.maxcdn.com/respond/1.4.2/respond.min.js}"></script>

    <![endif]-->

    <!-- jQuery 3 -->
    <script th:src="@{/bower_components/jquery/dist/jquery.min.js}"></script>
    <!--<script src="view.js"></script>-->
    <!-- HighCharts引入 唯一需要注意的是保证 highcharts.js} 的
    引用顺序是在功能模块之前。 -->

</head>
<!--
BODY 标签选项：
=================
使用下面一个或多个类来
获得所需效果
|---------------------------------------------------------|
| 皮 肤         | skin-blue                               |
|               | skin-black                              |
|               | skin-purple                             |
|               | skin-yellow                             |
|               | skin-red                                |
|               | skin-green                              |
|---------------------------------------------------------|
|布局选项       | fixed                                   |
|               | layout-boxed                            |
|               | layout-top-nav                          |
|               | sidebar-collapse                        |
|               | sidebar-mini                            |
|---------------------------------------------------------|
-->
<body class="hold-transition skin-blue sidebar-mini">
<div class="wrapper">

    <!-- Main Header -->
    <div th:include="common/main-header :: main-header"></div>
    <!-- Left side column. contains the logo and sidebar -->
    <div th:include="common/main-sidebar :: main-sidebar"></div>

    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">
        <div id="topimage" style="background-image: url(dist/img/bg-img/3.jpg);width:100%;
    background-size: cover;
    background-repeat: no-repeat;
    background-position: center;">
            <div style="height: 20px;"></div>
            <div id="title">
                <h1 style="color: #FF4500;">路线组合推荐 <small style="color: #FFCC33">旅行从这里开始</small></h1>
            </div>
            <div style="height: 20px;"></div>
        </div>
        <div class="search" style="border: 3px solid #3c8dbc; border-radius:25px;">
            <form>
                <select name="choice" id="selection">
                    <option value="all_products" selected="selected">&nbsp;&nbsp;&nbsp;&nbsp;全部产品</option>
                    <option value="start">&nbsp;&nbsp;&nbsp;&nbsp;出发地</option>
                    <option value="end">&nbsp;&nbsp;&nbsp;&nbsp;目的地</option>
                    <option value="free">&nbsp;&nbsp;&nbsp;&nbsp;相关路线</option>
                    <option value="one_day">&nbsp;&nbsp;&nbsp;&nbsp;一日游</option>
                </select>
                <input type="text" name="inp" id="inpution">
                <input type="button" value="搜索" id="bt" class="allsearch">
                <div style="float: right; margin-top: 3px; margin-right: 3px;" id="divprice">
                    <h5 style="color: #3c8dbc; display: inline;" class="label label-warning">价格区间：</h5>
                    <input type="text" name="price1" id="inpution1" class="firstprice">
                    <h5 style="color: #3c8dbc; display: inline;">~</h5>
                    <input type="text" name="price2" id="inpution1" class="lastprice">
                    <input type="button" class="bt1 pricesearch" value="搜索" id="bt">
                </div>
            </form>
        </div>
        <div>
            <ul class="list-group">
                <li class="list-group-item" id="havechosed"><span class="label label-warning">您已选择：</span>
                    <input type="button"  class="clearall" value="清除所有" id="bt">
                </li>
                <li class="list-group-item" id="tuijian"><span class="label label-primary top">为您推荐</span>
                    <a href="#" class="bod" id="special">&nbsp;&nbsp;西大自营&nbsp;&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;
                    <a href="#" class="bod rspecial">&nbsp;&nbsp;北海+南宁&nbsp;&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;
                    <a href="#" class="bod rspecial">&nbsp;&nbsp;桂林+阳朔+漓江&nbsp;&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;
                    <a href="#" class="bod rspecial">&nbsp;&nbsp;南宁+大新+明仕村+硕龙+通灵大峡谷&nbsp;&nbsp;</a>
                </li>
                <li class="list-group-item" id="playroute"><span class="label label-primary top">游玩线路</span>
                    <a href="#" class="Route">&nbsp;&nbsp;北海+南宁&nbsp;&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;
                    <a href="#" class="Route">&nbsp;&nbsp;桂林+阳朔+漓江&nbsp;&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;
                    <a href="#" class="Route">&nbsp;&nbsp;南宁+大新+明仕村+硕龙+通灵大峡谷&nbsp;&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;
                    <a href="#" class="Route">&nbsp;&nbsp;广西一地&nbsp;&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;
                    <a href="#" class="Route">&nbsp;&nbsp;北海一日游&nbsp;&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;
                    <a href="#" class="Route">&nbsp;&nbsp;广西越南边境游&nbsp;&nbsp;</a>
                </li>
                <li class="list-group-item" id="tripdays"><span class="label label-primary top">行程天数</span>
                    <a href="#" class="Days">&nbsp;&nbsp;2日&nbsp;&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;
                    <a href="#" class="Days">&nbsp;&nbsp;3日&nbsp;&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;
                    <a href="#" class="Days">&nbsp;&nbsp;4日&nbsp;&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;
                    <a href="#" class="Days">&nbsp;&nbsp;5日&nbsp;&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;
                    <a href="#" class="Days">&nbsp;&nbsp;6日&nbsp;&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;
                    <a href="#" class="Days">&nbsp;&nbsp;7日&nbsp;&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;
                    <a href="#" class="Days">&nbsp;&nbsp;8日&nbsp;&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;
                    <a href="#" class="Days">&nbsp;&nbsp;9日&nbsp;&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;
                    <a href="#" class="Days">&nbsp;&nbsp;10日&nbsp;&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;
                    <a href="#" class="Days">&nbsp;&nbsp;11日&nbsp;&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;
                    <a href="#" class="Days">&nbsp;&nbsp;12日&nbsp;&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;
                    <a href="#" class="Days">&nbsp;&nbsp;13日&nbsp;&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;
                    <a href="#" class="Days">&nbsp;&nbsp;14日&nbsp;&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;
                    <a href="#" class="Days">&nbsp;&nbsp;15日以上&nbsp;&nbsp;</a>
                </li>
                <li class="list-group-item" id="godate"><span class="label label-primary top">出发日期</span>
                    <a href="#" class="Date">&nbsp;&nbsp;04月&nbsp;&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;
                    <a href="#" class="Date">&nbsp;&nbsp;05月&nbsp;&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;
                    <a href="#" class="Date">&nbsp;&nbsp;06月&nbsp;&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;
                    <a href="#" class="Date">&nbsp;&nbsp;07月&nbsp;&nbsp;</a>
                </li>
                <li class="list-group-item" id="gocity"><span class="label label-primary top">出发城市</span>
                    <a href="#" class="City">&nbsp;&nbsp;南宁&nbsp;&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;
                    <a href="#" class="City">&nbsp;&nbsp;桂林&nbsp;&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;
                    <a href="#" class="City">&nbsp;&nbsp;阳朔&nbsp;&nbsp;</a>
                </li>
                <li class="list-group-item" id="gocompany"><span class="label label-primary top">供应商</span>
                    <a href="#" class="Company">&nbsp;&nbsp;西大自营&nbsp;&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;
                    <a href="#" class="Company">&nbsp;&nbsp;联合发团&nbsp;&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;
                    <a href="#" class="Company">&nbsp;&nbsp;桂美旅行&nbsp;&nbsp;</a>&nbsp;&nbsp;&nbsp;&nbsp;
                    <a href="#" class="Company">&nbsp;&nbsp;迈瑞国旅&nbsp;&nbsp;</a>
                </li>
            </ul>
        </div>
        <div class="middle">
            <div id="item1" style="margin: 15px 50px; border-bottom: 1px solid #F96A69;">
                <a th:href="@{/routeScenic}" class="picture" style="background-image: url(dist/img/bg-img/3.jpg)"></a>
                <div class="price" style="color: red; font-size: 23px;" >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;￥148<small>起</small></div>
                <a th:href="@{/routeScenic}" class="text" style="font-size: 20px;">阳朔漓江精华游+兴坪古镇+十里画廊+金水岩+月亮山一日游【竹筏/游船/银子岩多套餐多赠送可选】</a>
            </div>

            <div id="item1" style="margin: 15px 50px; border-bottom: 1px solid #F96A69;">
                <a th:href="@{/routeScenic}" class="picture" style="background-image: url(dist/img/bg-img/3.jpg)"></a>
                <div class="price" style="color: red; font-size: 23px;" >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;￥115<small>起</small></div>
                <a th:href="@{/routeScenic}" class="text" style="font-size: 20px;">桂林漓江精华段竹筏漂流+银子岩+兴坪古镇+杨堤+九马画山一日游【可选9点出发巴士游 观20元风景】</a>
            </div>

            <div id="item1" style="margin: 15px 50px; border-bottom: 1px solid #F96A69;">
                <a th:href="@{/routeScenic}" class="picture" style="background-image: url(dist/img/bg-img/3.jpg)"></a>
                <div class="price" style="color: red; font-size: 23px;" >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;￥130<small>起</small></div>
                <a th:href="@{/routeScenic}" class="text" style="font-size: 20px;">阳朔漓江竹筏精华游兴坪段+银子岩+兴坪古镇+漓江竹筏漂流一日游【看20元人民币背景、九马画山】</a>
            </div>

            <div id="item1" style="margin: 15px 50px; border-bottom: 1px solid #F96A69;">
                <a th:href="@{/routeScenic}" class="picture" style="background-image: url(dist/img/bg-img/3.jpg)"></a>
                <div class="price" style="color: red; font-size: 23px;" >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;￥238<small>起</small></div>
                <a th:href="@{/routeScenic}" class="text" style="font-size: 20px;">阳朔十里画廊+遇龙河漂流+世外桃源一日游【人工竹筏漂流，双人立减20，阳朔特色午餐】</a>
            </div>
        </div>
        <!-- /.content -->
    </div>
    <!-- /.content-wrapper -->

    <!-- Main Footer -->
    <footer class="main-footer">
        <!-- To the right -->
        <div class="pull-right hidden-xs">
            任何你想要的
        </div>
        <!-- Default to the left -->
        <strong>Copyright &copy; 2016 <a href="#">Company</a>.</strong> All rights reserved.
    </footer>

    <!-- Control Sidebar -->
    <aside class="control-sidebar control-sidebar-dark">
        <!-- Create the tabs -->
        <ul class="nav nav-tabs nav-justified control-sidebar-tabs">
            <li class="active"><a href="#control-sidebar-home-tab" data-toggle="tab"><i class="fa fa-home"></i></a></li>
            <li><a href="#control-sidebar-settings-tab" data-toggle="tab"><i class="fa fa-gears"></i></a></li>
        </ul>
        <!-- Tab panes -->
        <div class="tab-content">
            <!-- Home tab content -->
            <div class="tab-pane active" id="control-sidebar-home-tab">
                <h3 class="control-sidebar-heading">近期活动</h3>
                <ul class="control-sidebar-menu">
                    <li>
                        <a href="javascript:;">
                            <i class="menu-icon fa fa-birthday-cake bg-red"></i>

                            <div class="menu-info">
                                <h4 class="control-sidebar-subheading">Langdon's 生日</h4>

                                <p>23岁生日，在4月24日</p>
                            </div>
                        </a>
                    </li>
                </ul>
                <!-- /.control-sidebar-menu -->

                <h3 class="control-sidebar-heading">任务进度</h3>
                <ul class="control-sidebar-menu">
                    <li>
                        <a href="javascript:;">
                            <h4 class="control-sidebar-subheading">
                                自定义模板设计
                                <span class="pull-right-container">
                    <span class="label label-danger pull-right">70%</span>
                  </span>
                            </h4>

                            <div class="progress progress-xxs">
                                <div class="progress-bar progress-bar-danger" style="width: 70%"></div>
                            </div>
                        </a>
                    </li>
                </ul>
                <!-- /.control-sidebar-menu -->

            </div>
            <!-- /.tab-pane -->
            <!-- 统计标签内容 -->
            <div class="tab-pane" id="control-sidebar-stats-tab">统计标签内容</div>
            <!-- /.tab-pane -->
            <!-- Settings tab content -->
            <div class="tab-pane" id="control-sidebar-settings-tab">
                <form method="post">
                    <h3 class="control-sidebar-heading">常规设置</h3>

                    <div class="form-group">
                        <label class="control-sidebar-subheading">
                            报告面板使用
                            <input type="checkbox" class="pull-right" checked>
                        </label>

                        <p>
                            有关此常规设置选项信息
                        </p>
                    </div>
                    <!-- /.form-group -->
                </form>
            </div>
            <!-- /.tab-pane -->
        </div>
    </aside>
    <!-- /.control-sidebar -->
    <!-- 添加侧边栏的背景。
    这个 div必须放在 control-sidebar 之后 -->
    <div class="control-sidebar-bg"></div>
</div>
<!-- ./wrapper -->
<script>

    $(document).ready(function (){
        $('.accordion-inner').css({
            "font-color":"#fff",
            "font-size":"16px",
            "text-transform": "capitalize",
            "font-family": "'Poppins', sans-serif"
        } );});

</script>
<!-- REQUIRED JS SCRIPTS -->

<script>
    $.windowbox = {
        showall: function(x){   //自定义显示方法
            $.ajax({
                url:"NewRoutes/" + x,
                type:"get",
                dataType:"json",
                success: function(data) {
                    console.log(data);
                    $(".middle").empty();
                    for (var i=0;i<data.length;i++){
                        var add_div_out = $("<div id=\"item1\" class=\"item"+i+"\" style=\"margin: 15px 50px; border-bottom: 1px solid #F96A69;\"></div>");
                        var add_a_pic = $("<a href=\"/routeScenic\" class=\"picture\" style=\"background-image: url(dist/img/bg-img/3.jpg)\"></a>");
                        var add_div_in=$("<div class=\"price\" style=\"color: red; font-size: 23px;\" ><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id=\"realprice"+i+"\"></span><small>起</small></div>");
                        var add_a_text = $("<a href=\"/routeScenic\" class=\"text text"+i+"\" style=\"font-size: 20px;\"></a>");
                        $(".middle").append(add_div_out);
                        $(".item"+i).append(add_a_pic);
                        $(".item"+i).append(add_div_in);
                        $("#realprice"+i).text("￥"+data[i].price);
                        $(".item"+i).append(add_a_text);
                        $(".text"+i).text(data[i].title);
                    }
                },
                error: function(XMLHttpRequest, textStatus, errorThrown) {
                    alert(XMLHttpRequest.status);
                    alert(XMLHttpRequest.readyState);
                    alert(textStatus);
                },
            })
        }
    }

    var Acompany = 0;
    var Aroute = 0;
    var company_choice = 0;
    var route_choice = 0;
    var click = 0;

    var searchkey = {  //定义选择的url
        route : "0",
        days : 0,
        date : 0,
        city : "0",
        company : "0"
    };
    //注册删除天数元素函数
    $(document).on('click', '#xcts', function() {
        searchkey.days = 0;
        var func = searchkey.route + "/" + searchkey.days + "/" + searchkey.date + "/" + searchkey.city + "/" + searchkey.company;
        $.windowbox.showall(func)    //方法调用
        $(".xcts").remove();
        $(this).remove();
        $("#tripdays").show();
        click--;
        if(click == 0){
            window.location.reload();
        }
    });
    //注册删除出发日期元素函数
    $(document).on('click', '#cfrq', function() {
        searchkey.date = 0;
        var func = searchkey.route + "/" + searchkey.days + "/" + searchkey.date + "/" + searchkey.city + "/" + searchkey.company;
        $.windowbox.showall(func)    //方法调用
        $(".cfrq").remove();
        $(this).remove();
        $("#godate").show();
        click--;
        if(click == 0){
            window.location.reload();
        }
    });

    //注册删除出发城市元素函数
    $(document).on('click', '#cfcs', function() {
        searchkey.city = "0";
        var func = searchkey.route + "/" + searchkey.days + "/" + searchkey.date + "/" + searchkey.city + "/" + searchkey.company;
        $.windowbox.showall(func)    //方法调用
        $(".cfcs").remove();
        $(this).remove();
        $("#gocitye").show();
        click--;
        if(click == 0){
            window.location.reload();
        }
    });

    //注册删除供应商元素函数
    $(document).on('click', '#gys', function() {
        searchkey.company = "0";
        var func = searchkey.route + "/" + searchkey.days + "/" + searchkey.date + "/" + searchkey.city + "/" + searchkey.company;
        $.windowbox.showall(func)    //方法调用
        $(".gys").remove();
        $(this).remove();
        $("#gocompany").show();
        $("#special").show();
        click--;
        if(click == 0){
            window.location.reload();
        }
    });

    //注册删除路线元素函数
    $(document).on('click', '#ywxl', function() {
        searchkey.route = "0";
        var func = searchkey.route + "/" + searchkey.days + "/" + searchkey.date + "/" + searchkey.city + "/" + searchkey.company;
        $.windowbox.showall(func)    //方法调用
        $(".ywxl").remove();
        $(this).remove();
        $("#playroute").show();
        $(".rspecial").show();
        click--;
        if(click == 0){
            window.location.reload();
        }
    });

    //注册推荐元素函数1
    $(document).on('click', '#xdzy', function() {
        searchkey.company = "0";
        var func = searchkey.route + "/" + searchkey.days + "/" + searchkey.date + "/" + searchkey.city + "/" + searchkey.company;
        $.windowbox.showall(func)    //方法调用
        $(".xdzy").remove();
        $(this).remove();
        $("#tuijian").show();
        click--;
        if(click == 0){
            window.location.reload();
        }
    });

    //注册推荐元素函数2
    $(document).on('click', '#routetuijian', function() {
        searchkey.route = "0";
        var func = searchkey.route + "/" + searchkey.days + "/" + searchkey.date + "/" + searchkey.city + "/" + searchkey.company;
        $.windowbox.showall(func)    //方法调用
        $(".routetuijian").remove();
        $(this).remove();
        $("#tuijian").show();
        click--;
        if(click == 0){
            window.location.reload();
        }
    });

    $(document).ready(function(){
        $("#havechosed").hide();
        $(".list-group-item a").click(function(){
            var str = "";
            var pk = $(this).siblings("span").text();
            if(pk == "游玩线路"){
                str = "ywxl";
            }
            else if(pk == "行程天数"){
                str = "xcts"
            }
            else if(pk == "出发日期"){
                str = "cfrq"
            }
            else if(pk == "出发城市"){
                str = "cfcs"
            }
            else if(pk == "供应商"){
                str = "gys"
            }
            else {
                if($(this).text().trim()=="西大自营"){
                    str = "xdzy";
                }
                else{
                    str = "routetuijian";
                }
            }
            $("#havechosed").show();
            var txt1=$("<a href=\"#\" title=\"点击去除\" class=\"label label-success\" id=\""+str+"\"></a>").text($(this).siblings("span").text()+":"+$(this).text());     // 使用 jQuery 创建元素
            $(".clearall").before(txt1);
            var txt2=$("<span class=\""+str+"\"></span>").text("                   ");     // 使用 jQuery 创建元素
            $(".clearall").before(txt2);
            $(this).parent(".list-group-item").hide();
            click++;
        });

        //搜索出发日期
        $(".Date").click(function(){
            var m = $(this).text().substr(3,1);
            searchkey.date = m;
            var func = searchkey.route + "/" + searchkey.days + "/" + searchkey.date + "/" + searchkey.city + "/" + searchkey.company;
            $.windowbox.showall(func)    //方法调用
        });

        //搜索游玩天数
        $(".Days").click(function(){
            var len = $(this).text().length;
            var days = 0;
            if(len==6){
                days = $(this).text().substr(2,1);
            }
            else{
                days = $(this).text().substr(2,2);
            }
            searchkey.days = days;
            var func = searchkey.route + "/" + searchkey.days + "/" + searchkey.date + "/" + searchkey.city + "/" + searchkey.company;
            $.windowbox.showall(func)    //方法调用
        });



        //搜索出发城市
        $(".City").click(function(){
            var m = $(this).text().trim();
            searchkey.city = m;
            var func = searchkey.route + "/" + searchkey.days + "/" + searchkey.date + "/" + searchkey.city + "/" + searchkey.company;
            $.windowbox.showall(func)    //方法调用
        });

        //搜索路线
        $(".Route").click(function(){
            if (Aroute == 0){
                var m = $(this).text().trim();
                searchkey.route = m;
                var func = searchkey.route + "/" + searchkey.days + "/" + searchkey.date + "/" + searchkey.city + "/" + searchkey.company;
                $.windowbox.showall(func)    //方法调用
                Aroute = 1;
                route_choice = 1;
                $(".rspecial").hide();
            }
        });


        $(".rspecial").click(function(){
            if(Aroute == 0){
                var m = $(this).text().trim();
                searchkey.route = m;
                var func = searchkey.route + "/" + searchkey.days + "/" + searchkey.date + "/" + searchkey.city + "/" + searchkey.company;
                $.windowbox.showall(func)    //方法调用
                Aroute = 1;
                $("#playroute").hide();
            }
        });

        //供应商
        $(".Company").click(function(){
            if(Acompany == 0){
                var m = $(this).text().trim();
                searchkey.company = m;
                var func = searchkey.route + "/" + searchkey.days + "/" + searchkey.date + "/" + searchkey.city + "/" + searchkey.company;
                $.windowbox.showall(func)    //方法调用
                Acompany = 1;
                company_choice = 1;
                $("#special").hide();
            }
        });


        $("#special").click(function(){
            if(Acompany == 0){
                var m = $(this).text().trim();
                searchkey.company = m;
                var func = searchkey.route + "/" + searchkey.days + "/" + searchkey.date + "/" + searchkey.city + "/" + searchkey.company;
                $.windowbox.showall(func)    //方法调用
                Acompany = 1;
                $("#gocompany").hide();
            }
        });

        //价格区间查询
        $(".pricesearch").click(function(){
            var m1 = $(".firstprice").val().trim();
            var n1 = 0;
            var n2 = 10000;
            if (m1.length!=0){
                n1 = parseInt(m1);
            }
            var m2 =$(".lastprice").val().trim();
            if (m2.length!=0){
                n2 = parseInt(m2);
            }
            var func = "price/"+ n1 + "-" + n2;
            $.windowbox.showall(func)    //方法调用
            $(".firstprice").val('');
            $(".lastprice").val('');

        })
        //selection查询
        $(".allsearch").click(function () {
            var m = $("#selection option:selected").text().trim();
            var n = $("#inpution").val().trim();
            var func = "";
            if(n.length==0){
                window.location.reload();
            }
            else{
                if(m=="全部产品" || m=="目的地"){
                    func = "title/" + n.toString();
                }
                else if(m=="出发地"){
                    func = "city=" + n.toString();
                }
                else if(m=="相关路线"){
                    func = "route/" + n.toString();
                }
                else {
                    func = "1/" + n.toString();
                }
                $.windowbox.showall(func)    //方法调用
                $("#inpution").val('');
            }
        })


        //清除所有，重载界面
        $(".clearall").click(function(){
            window.location.reload();
        });


        //获取从后端拿到的全部数据
        $.ajax({
            url:"NewRoutes",
            type:"get",
            dataType:"json",
            success: function(data) {
                //console.log(data[0].title);
                console.log(data);
            },
            error: function(XMLHttpRequest, textStatus, errorThrown) {
                alert(XMLHttpRequest.status);
                alert(XMLHttpRequest.readyState);
                alert(textStatus);
            },
        })
    });
</script>


<!-- Bootstrap 3.3.7 -->
<script th:src="@{/bower_components/bootstrap/dist/js/bootstrap.min.js}"></script>
<!-- AdminLTE App -->
<script th:src="@{/dist/js/adminlte.min.js}"></script>


</body>
</html>
